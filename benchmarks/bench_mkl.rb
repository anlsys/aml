require 'yaml'

matrix_sizes = [
8192, 
8320, 
8448, 
8512, 
8640, 
8704, 
8832, 
8960, 
9216, 
9280, 
9408, 
9472, 
9600, 
9728, 
9856, 
9920, 
9984, 
10240,
10304,
10368,
10496,
10560,
10752,
10880,
11008,
11136,
11200,
11264,
11520,
11648,
11776,
11840,
11904,
12032,
12096,
12160,
12288,
12480,
12544,
12672,
12800,
12992,
13056,
13120,
13312,
13440,
13568,
13760,
13824,
13888,
14080,
14208,
14336,
14400,
14592,
14720,
14784,
14848,
14976,
15040,
15104,
15232,
15360,
15616,
15680,
15744,
15872,
16000,
16128,
16320,
16384,
16640,
16896,
17024,
17280,
17408,
17664,
17920,
18432,
18560,
18816,
18944,
19200,
19456,
19712,
19840,
19968,
20480,
20608,
20736,
20992,
21120,
21504,
21760,
22016,
22272,
22400,
22528,
23040,
23296,
23552,
23680,
23808,
24064,
24192,
24320,
24576,
24960,
25088,
25344,
25536,
25600,
25920,
25984,
26112,
26240,
26496,
26624,
26880,
27136,
27520,
27648,
27776,
27840,
28160,
28224,
28416,
28672,
28800,
29184,
29440,
29568,
29696,
29760,
29952,
30080,
30208,
30464,
30720,
30912,
31104,
31232,
31360,
31488,
31680,
31744,
32000,
32256,
32640,
32768,
33024,
33280,
33408,
33600,
33792,
34048,
34560,
34816,
34944,
35328,
35520,
35712,
35840,
36096,
36288,
36480,
36864,
37120,
37440,
37632,
37888,
38016,
38400,
38912,
38976,
39168,
39360,
39424,
39680,
39936,
40320,
40704,
40960,
41216,
41280,
41472,
41600,
41664,
41984,
42240,
42560,
42624,
43008,
43200,
43520,
43776,
44032,
44160,
44352,
44544,
44800,
44928,
45056,
45120,
45312,
45696,
46080,
46400,
46592,
46848,
47040,
47104,
47232,
47360,
47616,
48000,
48128,
48384,
48640,
48960,
49152,
49280,
49600,
49920,
50176,
50688,
51072,
51200,
51520,
51840,
51968,
52224,
52480,
52800,
52992,
53248,
53760,
54272,
54400,
55040,
55296,
55552,
55680,
56000,
56320,
56448,
56832,
57344,
57600,
58240,
58368,
58880,
59136,
59200,
59392,
59520,
59584,
59904,
60160,
60416,
60480,
60800,
60928,
61440,
61824,
62208,
62400,
62464,
62720,
62976,
63360,
63488,
64000,
64512,
64960,
65280,
65536
]

puts YAML::dump(ENV.to_h)
puts "---"
(matrix_sizes).each { |b|
  cmd = "./dgemm_vanilla 0 0 #{b}"
  puts "#{cmd.gsub("./","")}:"
  10.times {  puts "  - [#{`#{cmd}`.gsub("dgemm-vanilla: ","").gsub("\n","").split(" ").join(", ")}]" }
}
